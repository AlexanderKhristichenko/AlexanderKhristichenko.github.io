(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{3487:function(t,e,n){"use strict";n.r(e);n(19),n(20),n(35),n(36);var o=n(3),r=n(5),c=(n(14),n(15),n(30),n(21),n(47),n(260),n(46),n(43));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={data:function(){return{notices:[],isShow:!1,checkedTodayClose:!1,currentPage:1,CLOSE_NOTICES_COOKIE:"CLOSE_NOTICES=true"}},computed:d(d({},Object(c.c)({getNoticeModal:"modal/getNoticeModal"})),{},{currentNotice:function(){return this.noticesByCurrentCountry[this.currentPage-1]||{}},isUrdu:function(){return"pk"===this.$getCurrentLanguageCode?"rtl":null},swiperOptions:function(){var t=this;return{autoHeight:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"fraction"},on:{slideChangeTransitionEnd:function(){t.currentPage=this.activeIndex+1}}}},noticesByCurrentCountry:function(){var t=this;return this.notices.length?this.notices.filter((function(e){return e.status&&e.content_countries.includes(t.$currentDestinationCountryObject.id)})).sort((function(a,b){return a.order-b.order})):{}},isMultipleNotices:function(){return this.noticesByCurrentCountry.length>1},classes:function(){return{"normal-important":2===this.currentNotice.component_type,"high-important":3===this.currentNotice.component_type}},toggleModal:{get:function(){return this.getNoticeModal},set:function(){this.$SET_STATE({path:"modal.toggleNoticeModal",value:!1})}}}),watch:{$route:function(){this.toggleModal&&this.$SET_STATE({path:"modal.toggleNoticeModal",value:!1})},toggleModal:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.cookie.split(";").some((function(e){return e.includes(t.CLOSE_NOTICES_COOKIE)})),t.getNoticeModal&&!n){e.next=4;break}return t.isShow=!1,e.abrupt("return");case 4:return e.next=6,t.setNotice();case 6:o=!!t.noticesByCurrentCountry.length,t.isShow=o;case 8:case"end":return e.stop()}}),e)})))()}},methods:{replaceURLWithHTMLLinks:function(text){var t=new RegExp("(http|https|ftp|telnet|news|irc)://([-/.a-zA-Z0-9_~#%$?&=:200-377()]+)","gi");return text.replace(t,"<a href='$1://$2' target='_blank'>$1://$2</a>")},decodeContent:function(t){return this.replaceURLWithHTMLLinks(decodeURIComponent(t))},doNotOpenToday:function(){var t=new Date;t.setDate(t.getDate()+1);var e="".concat(this.CLOSE_NOTICES_COOKIE,"; expires=").concat(t.toUTCString());document.cookie=e},close:function(){this.checkedTodayClose&&this.doNotOpenToday()},setNotice:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={basedOn:"mobile",url:"/api/main_notices",mustHaveJwt:!1},e.next=3,t.$BASE_REQUEST(n);case 3:o=e.sent,r=o.list,t.notices=r;case 6:case"end":return e.stop()}}),e)})))()}}},f=n(25),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"notice-modal",class:t.classes,attrs:{title:t.decodeContent(t.currentNotice.title),visible:t.isShow,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.isShow=e},closed:t.close}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isMultipleNotices,expression:"isMultipleNotices"}],staticClass:"swiper-pagination"}),t._v(" "),n("swiper",{attrs:{options:t.swiperOptions,dir:t.isUrdu}},t._l(t.noticesByCurrentCountry,(function(e,o){var content=e.content;return n("swiper-slide",{key:o},[n("div",{staticClass:"pre-line always-view-scroll",domProps:{innerHTML:t._s(t.decodeContent(content))}})])})),1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-checkbox",{model:{value:t.checkedTodayClose,callback:function(e){t.checkedTodayClose=e},expression:"checkedTodayClose"}},[t._v("\n      "+t._s(t.$t("Global.check.CloseforToday.None"))+"\n    ")]),t._v(" "),n("el-button",{staticClass:"btn-block",attrs:{type:"primary"},on:{click:function(e){t.isShow=!1}}},[n("span",[t._v(t._s(t.$t("Global.all.confirm.blank")))])])],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);