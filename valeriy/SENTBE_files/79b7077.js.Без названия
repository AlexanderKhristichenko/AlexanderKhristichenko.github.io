(window.webpackJsonp=window.webpackJsonp||[]).push([[220],{3114:function(t,e,n){"use strict";var r=n(17),o=(n(105),n(58),n(22),n(51),n(30),n(266)),c=n.n(o),l={name:"PinNumber",props:{currentPinNumber:{type:String,default:""},maxLength:{type:Number,default:0}},data:function(){return{keyboard:{},number:Object(r.a)(new Array(10).keys()).map((function(i){return""+i}))}},computed:{pinKeys:function(){for(var t,e,n=this.number,i=n.length;i;t=Math.floor(Math.random()*i),e=n[--i],n[i]=n[t],n[t]=e);return n.splice(n.length-1,0,"{blank}"),n.splice(n.length,0,"{bksp}"),this.pinFormatter(n).reduce((function(t,e){return t.concat(e.join(" "))}),[])}},watch:{currentPinNumber:function(t){t||this.keyboard.setInput("")}},mounted:function(){this.pinInit()},methods:{onChange:function(t){event&&event.preventDefault();var e=this.invalidSimplePassword(t);this.$emit("change",{val:t,invalid:e})},onKeyPress:function(button){if("{shift}"===button){var t="default"===this.keyboard.options.layoutName?"shift":"default";this.keyboard.setOptions({layoutName:t})}"{enter}"===button&&(this.closeVirtualKeyboard(),"function"==typeof this.successCallback&&this.successCallback())},pinFormatter:function(t){var e=[];return t=t.reduce((function(t,n,i){return i%3||(t=[]),t.push(n),(i+1)%3||e.push(t),t}),[]),e},pinInit:function(){var t=this;this.keyboard=new c.a({onChange:function(input){return t.onChange(input)},onKeyPress:function(button){return t.onKeyPress(button)},layout:{default:this.pinKeys},display:{"{blank}":" ","{bksp}":"âŒ«"},maxLength:{default:this.maxLength},theme:"hg-theme-default hg-layout-numeric numeric-theme"})},update:function(t){event&&event.preventDefault();var e=this.invalidSimplePassword(t);this.$emit("change",{val:t,invalid:e})},invalidSimplePassword:function(t){for(var i=0;i<t.length-2;i++){var e=t[i]+t[i+1]+t[i+2],n="0123456789".includes(e)||"9876543210".includes(e),r=/(\d)\1\1/.test(e),o=n||r;if(o)return o}return!1}}},h=n(25),component=Object(h.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"simple-keyboard"})}),[],!1,null,null,null);e.a=component.exports},3490:function(t,e,n){"use strict";n.r(e);n(19),n(20),n(15),n(35),n(36);var r=n(17),o=n(3),c=n(5),l=(n(14),n(30),n(21),n(43));function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={components:{PinNumber:n(3114).a},data:function(){return{currentPinNumber:"",invalid:!1,isHaveInstance:"",isInit:!1,pinNumberNotMatch:!1,VALID_PIN_NUMBER_LENGTH:6}},watch:{$route:function(){this.isShow&&this.$CLOSE_MODAL()},isShow:function(t){var e=this;t&&this.$nextTick((function(){e.isHaveInstance||(e.isInit=!0),e.pinClear()}))}},computed:d(d({},Object(l.e)({visibleModals:function(t){return t.modal.visibles},callbacks:function(t){return t.modal.callbacks}})),{},{isShow:{get:function(){return this.visibleModals.includes(this.modalName)},set:function(){this.$CLOSE_MODAL()}},modalName:function(){return this.$vnode.componentOptions.tag}}),methods:d(d(d({},Object(l.d)({SET_AUTO_DEBIT_M:"person/SET_AUTO_DEBIT_M"})),Object(l.b)({VERIFY_PIN_NUMBER:"services/venom/VERIFY_PIN_NUMBER"})),{},{verifyPinNumber:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={pid:t.$getPid,pin_number:t.currentPinNumber},e.next=4,t.VERIFY_PIN_NUMBER(n);case 4:Object(r.a)(t.callbacks).pop()(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),250===e.t0.code?(t.$nextTick((function(){t.pinClear()})),t.pinNumberNotMatch=!0):(251===e.t0.code&&t.SET_AUTO_DEBIT_M({field:"lock_pin_number",value:!0}),t.$router.push(t.$getPath_Language("/dashboard")),t.$messageWithErrCode(e.t0),t.$CLOSE_MODAL());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},pinClear:function(){this.currentPinNumber=""},pinPress:function(t){var e=t.val,n=t.invalid;this.pinNumberNotMatch&&(this.pinNumberNotMatch=!1),this.currentPinNumber=e,this.invalid=n,n||this.currentPinNumber.length===this.VALID_PIN_NUMBER_LENGTH&&this.verifyPinNumber()},onClickForgotPinNumber:function(){this.$CLOSE_MODAL(),this.$SET_STATE({path:"modal.showForgotPinNumberModal",value:!0})}})},m=n(25),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.$t("Global.part.autoDebitPassword.input"),visible:t.isShow},on:{"update:visible":function(e){t.isShow=e}}},[n("div",{staticClass:"text-center"},[n("div",{staticClass:"title-pin-number"},[t._v("\n      "+t._s(t.$t("Global.all.autoDeitPassword.blank"))+"\n    ")]),t._v(" "),n("el-rate",{attrs:{value:t.currentPinNumber.length,"icon-classes":["circle-on","circle-on","circle-on"],disabled:"","disabled-void-icon-class":"circle-off","void-icon-class":"circle-off",max:t.VALID_PIN_NUMBER_LENGTH}}),t._v(" "),t.pinNumberNotMatch?n("div",{staticClass:"text-error text-ex-ex-small"},[t._v("\n      "+t._s(t.$t("Notification.error.pin.wrong"))+"\n    ")]):t._e(),t._v(" "),t.invalid?n("div",{staticClass:"text-error text-ex-ex-small"},[t._v("\n      "+t._s(t.$t("Transfer.error.autoDebit.wrong"))+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"text-warn-pin-number"},[n("span",{staticClass:"text-left",domProps:{textContent:t._s(t.$t("Transfer.modal.PinVerifyErrorGuide.blank"))}}),t._v(" "),n("el-button",{attrs:{type:"text"},domProps:{textContent:t._s(t.$t("ResetPassword.title.forgotPassword.blank"))},on:{click:t.onClickForgotPinNumber}})],1)],1),t._v(" "),n("div",{staticClass:"key-pad el-row"},[t.isInit?n("PinNumber",{attrs:{"current-pin-number":t.currentPinNumber,"max-length":t.VALID_PIN_NUMBER_LENGTH},on:{change:t.pinPress}}):t._e()],1)])}),[],!1,null,null,null);e.default=component.exports}}]);